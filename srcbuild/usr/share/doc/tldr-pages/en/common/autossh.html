<h1>autossh</h1>

<blockquote><p>Run, monitor and restart SSH connections.
Auto-reconnects to keep port forwarding tunnels up. Accepts all SSH flags.
More information: <a href="https://manned.org/autossh">https://manned.org/autossh</a>.</p></blockquote>

<ul>
<li>Start an SSH session, restarting when the [M]onitoring port fails to return data:</li>
</ul>


<p><code>autossh -M {{monitor_port}} "{{ssh_command}}"</code></p>

<ul>
<li>Forward a [L]ocal port to a remote one, restarting when necessary:</li>
</ul>


<p><code>autossh -M {{monitor_port}} -L {{local_port}}:localhost:{{remote_port}} {{user}}@{{host}}</code></p>

<ul>
<li>Fork <code>autossh</code> into the background before executing SSH and do [N]ot open a remote shell:</li>
</ul>


<p><code>autossh -f -M {{monitor_port}} -N "{{ssh_command}}"</code></p>

<ul>
<li>Run in the background, with no monitoring port, and instead send SSH keep-alive packets every 10 seconds to detect failure:</li>
</ul>


<p><code>autossh -f -M 0 -N -o "ServerAliveInterval 10" -o "ServerAliveCountMax 3" "{{ssh_command}}"</code></p>

<ul>
<li>Run in the background, with no monitoring port and no remote shell, exiting if the port forward fails:</li>
</ul>


<p><code>autossh -f -M 0 -N -o "ServerAliveInterval 10" -o "ServerAliveCountMax 3" -o ExitOnForwardFailure=yes -L {{local_port}}:localhost:{{remote_port}} {{user}}@{{host}}</code></p>

<ul>
<li>Run in the background, logging <code>autossh</code> debug output and SSH verbose output to files:</li>
</ul>


<p><code>AUTOSSH_DEBUG=1 AUTOSSH_LOGFILE={{path/to/autossh_log_file.log}} autossh -f -M {{monitor_port}} -v -E {{path/to/ssh_log_file.log}} {{ssh_command}}</code></p>
