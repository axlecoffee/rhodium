<h1>aws secretsmanager</h1>

<blockquote><p>Store, manage, and retrieve secrets.
More information: <a href="https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/">https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/</a>.</p></blockquote>

<ul>
<li>Show secrets stored by the secrets manager in the current account:</li>
</ul>


<p><code>aws secretsmanager list-secrets</code></p>

<ul>
<li>List all secrets but only show the secret names and ARNs (easy to view):</li>
</ul>


<p><code>aws secretsmanager list-secrets --query 'SecretList[*].{Name: Name, ARN: ARN}'</code></p>

<ul>
<li>Create a secret:</li>
</ul>


<p><code>aws secretsmanager create-secret --name {{name}} --description "{{secret_description}}" --secret-string '{{secret}}'</code></p>

<ul>
<li>Delete a secret (append <code>--force-delete-without-recovery</code> to delete immediately without any recovery period):</li>
</ul>


<p><code>aws secretsmanager delete-secret --secret-id {{name|arn}}</code></p>

<ul>
<li>View details of a secret except for secret text:</li>
</ul>


<p><code>aws secretsmanager describe-secret --secret-id {{name|arn}}</code></p>

<ul>
<li>Retrieve the value of a secret (to get the latest version of the secret omit <code>--version-stage</code>):</li>
</ul>


<p><code>aws secretsmanager get-secret-value --secret-id {{name|arn}} --version-stage {{version_of_secret}}</code></p>

<ul>
<li>Rotate the secret immediately using a Lambda function:</li>
</ul>


<p><code>aws secretsmanager rotate-secret --secret-id {{name|arn}} --rotation-lambda-arn {{arn_of_lambda_function}}</code></p>

<ul>
<li>Rotate the secret automatically every 30 days using a Lambda function:</li>
</ul>


<p><code>aws secretsmanager rotate-secret --secret-id {{name|arn}} --rotation-lambda-arn {{arn_of_lambda_function}} --rotation-rules AutomaticallyAfterDays={{30}}</code></p>
