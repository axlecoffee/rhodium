<h1>GetUserSPNs.py</h1>

<blockquote><p>Retrieve Service Principal Names (SPNs) associated with Active Directory user accounts.
Part of the Impacket suite.
More information: <a href="https://github.com/fortra/impacket">https://github.com/fortra/impacket</a>.</p></blockquote>

<ul>
<li>Enumerate user accounts with an SPN and request their Kerberos TGS tickets:</li>
</ul>


<p><code>GetUserSPNs.py {{domain}}/{{username}}:{{password}} -dc-ip {{domain_controller_ip}}</code></p>

<ul>
<li>Use pass-the-hash authentication:</li>
</ul>


<p><code>GetUserSPNs.py {{domain}}/{{username}} -hashes {{LM_Hash}}:{{NT_Hash}} -dc-ip {{domain_controller_ip}}</code></p>

<ul>
<li>Save the output to a file:</li>
</ul>


<p><code>GetUserSPNs.py {{domain}}/{{username}}:{{password}} -dc-ip {{domain_controller_ip}} -outputfile {{output_file}}</code></p>

<ul>
<li>Request only TGS tickets:</li>
</ul>


<p><code>GetUserSPNs.py {{domain}}/{{username}}:{{password}} -dc-ip {{domain_controller_ip}} -request</code></p>

<ul>
<li>Request only TGS tickets using pass-the-hash authentication:</li>
</ul>


<p><code>GetUserSPNs.py {{domain}}/{{username}} -dc-ip {{domain_controller_ip}} -hashes {{LM_Hash}}:{{NT_Hash}} -request</code></p>
