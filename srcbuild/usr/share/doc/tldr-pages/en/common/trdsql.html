<h1>trdsql</h1>

<blockquote><p>Execute SQL on CSV, LTSV, JSON, YAML, and TBLN files.
More information: <a href="https://noborus.github.io/trdsql/">https://noborus.github.io/trdsql/</a>.</p></blockquote>

<ul>
<li>Convert object data from multiple JSON files to a CSV file with header (<code>-oh</code>) and double quote:</li>
</ul>


<p><code>trdsql -ocsv -oh "SELECT * FROM {{path/to/file/*.json}}" | sed 's/\([^,]*\)/"&amp;"/g' &gt; {{path/to/file.csv}}</code></p>

<ul>
<li>Interpret JSON list as a table and put objects inside as columns (path/to/file.json: <code>{"list":[{"age":"26","name":"Tanaka"}]}</code>):</li>
</ul>


<p><code>trdsql "SELECT * FROM {{path/to/file.json}}::.list</code></p>

<ul>
<li>Manipulate complex SQL query with data from multiple CSV files with first line is header (<code>-ih</code>):</li>
</ul>


<p><code>trdsql -icsv -ih "SELECT {{column1,column2}} FROM {{path/to/file*.csv}} WHERE column2 != '' ORDER BY column1 GROUP BY column1"</code></p>

<ul>
<li>Merge content of 2 CSV files to one CSV file:</li>
</ul>


<p><code>trdsql "SELECT {{column1,colum2}} FROM {{path/to/file1.csv}} UNION SELECT {{column1,column2}} FROM {{path/to/file2.csv}}"</code></p>

<ul>
<li>Connect to PostgreSQL database:</li>
</ul>


<p><code>trdsql -driver postgres -dsn "host={{hostname}} port={{5433}} dbname={{database_name}}" "SELECT 1"</code></p>

<ul>
<li>Create table data to MySQL database from CSV file:</li>
</ul>


<p><code>trdsql -driver mysql -dsn "{{username}}:{{password}}@{{hostname}}/{{database}}" -ih "CREATE TABLE {{table}} ({{column1}} int, {{colum2}} varchar(20)) AS SELECT {{column3}} AS {{column1}},{{column2}} FROM {{path/to/header_file.csv}}"</code></p>

<ul>
<li>Show data from compress log files:</li>
</ul>


<p><code>trdsql -iltsv "SELECT * FROM {{path/to/access.log.gz}}"</code></p>
