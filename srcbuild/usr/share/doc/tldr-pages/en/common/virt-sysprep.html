<h1>virt-sysprep</h1>

<blockquote><p>Reset, unconfigure, or customize a virtual machine image.
More information: <a href="https://manned.org/virt-sysprep">https://manned.org/virt-sysprep</a>.</p></blockquote>

<ul>
<li>List all supported operations (enabled operations are indicated with asterisks):</li>
</ul>


<p><code>virt-sysprep --list-operations</code></p>

<ul>
<li>Remove sensitive system data from a virtual machine image:</li>
</ul>


<p><code>sudo virt-sysprep {{[-a|--add]}} {{path/to/image.qcow2}}</code></p>

<ul>
<li>Specify a virtual machine by its name and run all enabled operations but don&rsquo;t actually apply the changes:</li>
</ul>


<p><code>sudo virt-sysprep {{[-d|--domain]}} {{vm_name}} {{[-n|--dry-run]}}</code></p>

<ul>
<li>Run only the specified operations:</li>
</ul>


<p><code>sudo virt-sysprep {{[-d|--domain]}} {{vm_name}} --operations {{operation1,operation2,...}}</code></p>

<ul>
<li>Generate a new <code>/etc/machine-id</code> file and enable customizations to be able to change the host name to avoid network conflicts:</li>
</ul>


<p><code>sudo virt-sysprep {{[-d|--domain]}} {{vm_name}} --enable {{customizations}} --hostname {{host_name}} --operation {{machine-id}}</code></p>

<ul>
<li>Display help:</li>
</ul>


<p><code>virt-sysprep {{[-he|--help]}}</code></p>
