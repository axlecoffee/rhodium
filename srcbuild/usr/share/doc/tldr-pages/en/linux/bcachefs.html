<h1>bcachefs</h1>

<blockquote><p>Manage <code>bcachefs</code> filesystems/devices.
Some subcommands such as <code>device</code> have their own usage documentation.
More information: <a href="https://bcachefs-docs.readthedocs.io/en/latest/index.html">https://bcachefs-docs.readthedocs.io/en/latest/index.html</a>.</p></blockquote>

<ul>
<li>Format a partition with <code>bcachefs</code>:</li>
</ul>


<p><code>sudo bcachefs format {{path/to/partition}}</code></p>

<ul>
<li>Mount a <code>bcachefs</code> filesystem:</li>
</ul>


<p><code>sudo bcachefs mount {{path/to/partition}} {{path/to/mountpoint}}</code></p>

<ul>
<li>Create a RAID 0 filesystem where an SSD acts as a cache and an HDD acts as a long-term storage:</li>
</ul>


<p><code>sudo bcachefs format --label=ssd.ssd1 {{path/to/ssd/partition}} --label=hdd.hdd1 {{path/to/hdd/partition}} --replicas=1 --foreground_target=ssd --promote_target=ssd --background_target=hdd</code></p>

<ul>
<li>Mount a multidevice filesystem:</li>
</ul>


<p><code>sudo bcachefs mount {{path/to/partition1}}:{{path/to/partition2}} {{path/to/mountpoint}}</code></p>

<ul>
<li>Display disk usage:</li>
</ul>


<p><code>bcachefs fs usage --human-readable {{path/to/mountpoint}}</code></p>

<ul>
<li>Set replicas after formatting and mounting:</li>
</ul>


<p><code>sudo bcachefs set-fs-option --metadata_replicas={{2}} --data_replicas={{2}} {{path/to/partition}}</code></p>

<ul>
<li>Force <code>bcachefs</code> to ensure all files are replicated:</li>
</ul>


<p><code>sudo bcachefs data rereplicate {{path/to/mountpoint}}</code></p>

<ul>
<li>Create a snapshot of a particular directory:</li>
</ul>


<p><code>bcachefs subvolume snapshot {{path/to/directory}} {{path/to/snapshot}}</code></p>
