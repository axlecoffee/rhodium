<h1>btrfs balance</h1>

<blockquote><p>Balance block groups on a btrfs filesystem.
More information: <a href="https://btrfs.readthedocs.io/en/latest/btrfs-balance.html">https://btrfs.readthedocs.io/en/latest/btrfs-balance.html</a>.</p></blockquote>

<ul>
<li>Show the status of a running or paused balance operation:</li>
</ul>


<p><code>sudo btrfs balance status {{path/to/btrfs_filesystem}}</code></p>

<ul>
<li>Balance all block groups (slow; rewrites all blocks in filesystem):</li>
</ul>


<p><code>sudo btrfs balance start {{path/to/btrfs_filesystem}}</code></p>

<ul>
<li>Balance data block groups which are less than 15% utilized, running the operation in the background:</li>
</ul>


<p><code>sudo btrfs balance start --bg -dusage={{15}} {{path/to/btrfs_filesystem}}</code></p>

<ul>
<li>Balance a max of 10 metadata chunks with less than 20% utilization and at least 1 chunk on a given device <code>devid</code> (see <code>btrfs filesystem show</code>):</li>
</ul>


<p><code>sudo btrfs balance start -musage={{20}},limit={{10}},devid={{devid}} {{path/to/btrfs_filesystem}}</code></p>

<ul>
<li>Convert data blocks to the raid6 and metadata to raid1c3 (see mkfs.btrfs(8) for profiles):</li>
</ul>


<p><code>sudo btrfs balance start -dconvert={{raid6}} -mconvert={{raid1c3}} {{path/to/btrfs_filesystem}}</code></p>

<ul>
<li>Convert data blocks to raid1, skipping already converted chunks (e.g. after a previous cancelled conversion operation):</li>
</ul>


<p><code>sudo btrfs balance start -dconvert={{raid1}},soft {{path/to/btrfs_filesystem}}</code></p>

<ul>
<li>Cancel, pause, or resume a running or paused balance operation:</li>
</ul>


<p><code>sudo btrfs balance {{cancel|pause|resume}} {{path/to/btrfs_filesystem}}</code></p>
