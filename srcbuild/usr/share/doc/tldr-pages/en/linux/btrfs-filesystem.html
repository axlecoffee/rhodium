<h1>btrfs filesystem</h1>

<blockquote><p>Manage btrfs filesystems.
More information: <a href="https://btrfs.readthedocs.io/en/latest/btrfs-filesystem.html">https://btrfs.readthedocs.io/en/latest/btrfs-filesystem.html</a>.</p></blockquote>

<ul>
<li>Show filesystem usage (optionally run as root to show detailed information):</li>
</ul>


<p><code>btrfs filesystem usage {{path/to/btrfs_mount}}</code></p>

<ul>
<li>Show usage by individual devices:</li>
</ul>


<p><code>sudo btrfs filesystem show {{path/to/btrfs_mount}}</code></p>

<ul>
<li>Defragment a single file on a btrfs filesystem (avoid while a deduplication agent is running):</li>
</ul>


<p><code>sudo btrfs filesystem defragment {{[-v|--verbose]}} {{path/to/file}}</code></p>

<ul>
<li>Defragment a directory recursively (does not cross subvolume boundaries):</li>
</ul>


<p><code>sudo btrfs filesystem defragment {{[-v|--verbose]}} -r {{path/to/directory}}</code></p>

<ul>
<li>Force syncing unwritten data blocks to disk(s):</li>
</ul>


<p><code>sudo btrfs filesystem sync {{path/to/btrfs_mount}}</code></p>

<ul>
<li>Summarize disk usage for the files in a directory recursively:</li>
</ul>


<p><code>sudo btrfs filesystem du {{[-s|--summarize]}} {{path/to/directory}}</code></p>

<ul>
<li>Create a swap file:</li>
</ul>


<p><code>sudo btrfs filesystem mkswapfile --size {{8g}} --uuid {{clear|random|time|UUID_value}} {{path/to/swapfile}}</code></p>
