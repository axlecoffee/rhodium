<h1>trdsql</h1>

<blockquote><p>Ejecuta SQL en archivos CSV, LTSV, JSON, YAML y TBLN.
Más información: <a href="https://noborus.github.io/trdsql/">https://noborus.github.io/trdsql/</a>.</p></blockquote>

<ul>
<li>Convierte datos de objetos de varios archivos JSON a un archivo CSV con encabezado (<code>-oh</code>) y comillas dobles:</li>
</ul>


<p><code>trdsql -ocsv -oh "SELECT * FROM {{ruta/al/archivo/*.json}}" | sed 's/\([^,]*\)/«&amp;»/g' &gt; {{ruta/al/archivo.csv}}</code></p>

<ul>
<li>Interpreta una lista JSON como tabla y pone objetos dentro como columnas ( ruta/al/archivo.json: <code>{"lista":[{"edad":"26", "nombre":"Tanaka"}]}</code>):</li>
</ul>


<p><code>trdsql "SELECT * FROM {{ruta/al/archivo.json}}::.list</code></p>

<ul>
<li>Manipula una consulta SQL compleja con datos de varios archivos CSV cuya primera línea es la cabecera (<code>-ih</code>):</li>
</ul>


<p><code>trdsql -icsv -ih "SELECT {{columna1,columna2}} FROM {{ruta/al/archivo*.csv}} WHERE column2 != '' ORDER BY columna1 GROUP BY columna1"</code></p>

<ul>
<li>Combina el contenido de 2 archivos CSV en un archivo CSV:</li>
</ul>


<p><code>trdsql "SELECT {{columna1,columna2}} FROM {{ruta/al/archivo1.csv}} UNION SELECT {{columna1,columna2}} FROM {{ruta/al/archivo2.csv}}"</code></p>

<ul>
<li>Se conecta a la base de datos PostgreSQL:</li>
</ul>


<p><code>trdsql -driver postgres -dsn "host={{nombre_del_host}} port={{5433}} dbname={{nombre_de_la_base_de_datos}}" "SELECT 1"</code></p>

<ul>
<li>Crea una tabla de datos en una base de datos MySQL a partir de un archivo CSV:</li>
</ul>


<p><code>trdsql -driver mysql -dsn "{{usuario}}:{{contraseña}}@{{nombre_del_host}}/{{base_de_datos}}" -ih "CREATE TABLE {{tabla}} ({{columna1}} int, {{columna2}} varchar(20)) AS SELECT {{columna3}} AS {{columna1}},{{columna2}} FROM {{ruta/a/archivo_cabecera.csv}}"</code></p>

<ul>
<li>Muestra datos de archivos de registro comprimidos:</li>
</ul>


<p><code>trdsql -iltsv "SELECT * FROM {{ruta/a/acceso.log.gz}}"</code></p>
