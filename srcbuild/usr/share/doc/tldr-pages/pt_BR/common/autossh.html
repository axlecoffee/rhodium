<h1>autossh</h1>

<blockquote><p>Executa, monitora e reinicia conexões SSH.
Reconecta automaticamente para manter os túneis de redirecionamento de porta ativos. Aceita todas as flags do SSH.
Mais informações: <a href="https://manned.org/autossh">https://manned.org/autossh</a>.</p></blockquote>

<ul>
<li>Inicia uma sessão SSH, reiniciando quando uma porta de monitoramento falhar em retornar dados:</li>
</ul>


<p><code>autossh -M {{porta_de_monitoramento}} "{{comando_ssh}}"</code></p>

<ul>
<li>Redireciona uma porta local para uma porta remota, reiniciando quando necessário:</li>
</ul>


<p><code>autossh -M {{porta_de_monitoramento}} -L {{porta_local}}:localhost:{{porta_remota}} {{usuário}}@{{host}}</code></p>

<ul>
<li>Executa o <code>autossh</code> em segundo plano antes de executar o SSH e não abrir um shell remoto:</li>
</ul>


<p><code>autossh -f -M {{porta_de_monitoramento}} -N "{{comando_ssh}}"</code></p>

<ul>
<li>Executa em segundo plano, sem porta de monitoramento, e em vez disso envia pacotes de keep-alive SSH a cada 10 segundos para detectar falhas:</li>
</ul>


<p><code>autossh -f -M 0 -N -o "ServerAliveInterval 10" -o "ServerAliveCountMax 3" "{{comando_ssh}}"</code></p>

<ul>
<li>Executa em segundo plano, sem porta de monitoramento e sem shell remoto, saindo se a redireção da porta falhar:</li>
</ul>


<p><code>autossh -f -M 0 -N -o "ServerAliveInterval 10" -o "ServerAliveCountMax 3" -o ExitOnForwardFailure=yes -L {{porta_local}}:localhost:{{porta_remota}} {{usuário}}@{{host}}</code></p>

<ul>
<li>Executa em segundo plano, registrando a saída de depuração do <code>autossh</code> e a saída detalhada do SSH em arquivos:</li>
</ul>


<p><code>AUTOSSH_DEBUG=1 AUTOSSH_LOGFILE={{caminho/para/arquivo_de_log_do_autossh.log}} autossh -f -M {{porta_de_monitoramento}} -v -E {{caminho/para/arquivo_de_log_do_ssh.log}} {{comando_ssh}}</code></p>
