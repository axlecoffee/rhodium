<h1>aws secretsmanager</h1>

<blockquote><p>Armazena, gerencia, e obtem secrets.
Mais informações: <a href="https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/">https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/</a>.</p></blockquote>

<ul>
<li>Lista secrets armazenados pelo gerenciador de secretes na conta atual:</li>
</ul>


<p><code>aws secretsmanager list-secrets</code></p>

<ul>
<li>Cria um secret:</li>
</ul>


<p><code>aws secretsmanager create-secret --name {{nome}} --description "{{descrição_do_secret}}" --secret-string {{secret}}</code></p>

<ul>
<li>Apaga um secret:</li>
</ul>


<p><code>aws secretsmanager delete-secret --secret-id {{nome_ou_arn}}</code></p>

<ul>
<li>Visualiza detalhes de um secret menos pelo texto do secret:</li>
</ul>


<p><code>aws secretsmanager describe-secret --secret-id {{nome_ou_arn}}</code></p>

<ul>
<li>Obtém o valor do secret (para pegar a última versão do secret não use <code>--version-stage</code>):</li>
</ul>


<p><code>aws secretsmanager get-secret-value --secret-id {{nome_ou_arn}} --version-stage {{versão_do_secret}}</code></p>

<ul>
<li>Alterna o secret imediatamente usando uma função Lambda:</li>
</ul>


<p><code>aws secretsmanager rotate-secret --secret-id {{nome_ou_arn}} --rotation-lambda-arn {{arn_da_função_lambda}}</code></p>

<ul>
<li>Alterna o secret automaticamente a cada 30 dias usando uma função Lambda:</li>
</ul>


<p><code>aws secretsmanager rotate-secret --secret-id {{nome_ou_arn}} --rotation-lambda-arn {{arn_da_função_lambda}} --rotation-rules AutomaticallyAfterDays={{30}}</code></p>
